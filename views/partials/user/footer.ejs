<footer class="main">
    <section class="newsletter p-30 text-white wow fadeIn animated">
        <div class="floating-elements">
            <div class="floating-element">Ê°ú</div>
            <div class="floating-element">Ê°ú</div>
            <div class="floating-element">‚ö°</div>
            <div class="floating-element">üå∏</div>
        </div>
    </section>

    <section class="section-padding footer-mid">
        <div class="container pt-15 pb-20">
            <div class="row">
                <div class="col-lg-4 col-md-6">
                    <div class="footer-logo mb-20">
                        <a><img src="/imgs/theme/kaizenlogoo.svg" alt="Kaizen Logo"></a>
                    </div>
                    <div class="widget-about font-md mb-md-5 mb-lg-0">
                        <div class="brand-story wow fadeIn animated">
                            <p class="text-grey-4 mb-15">
                                <strong>Kaizen</strong> (ÊîπÂñÑ) ‚Äî Japanese philosophy of continuous improvement and
                                evolution. We embody this principle in every stitch, every design, and every collection.
                            </p>
                            <p class="text-grey-4 mb-20">
                                From streetwear roots to evolving aesthetics, Kaizen represents the relentless pursuit
                                of perfection. We don't just create clothing; we evolve culture, one piece at a time.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3">
                    <h5 class="widget-title wow fadeIn animated">Quick Links</h5>
                    <ul class="footer-list wow fadeIn animated mb-sm-5 mb-md-0">
                        <li><a href="/">Home</a></li>
                        <li><a href="/shop">Shop</a></li>
                        <li><a href="/cart">Cart</a></li>
                        <li><a href="/wishlist">Wishlist</a></li>
                    </ul>
                </div>

                <div class="col-lg-2 col-md-3">
                    <h5 class="widget-title wow fadeIn animated">My Account</h5>
                    <ul class="footer-list wow fadeIn animated">
                        <li><a href="/userProfile">My Profile</a></li>
                        <li><a href="/profile/coupons">View Coupons</a></li>
                        <li><a href="/wallet">Open Wallet</a></li>
                        <li><a href="/orders">Track My Order</a></li>
                        <li><a href="/profile/addresses">View Address</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 col-md-6">
                    <h5 class="widget-title wow fadeIn animated">Contact</h5>
                    <div class="widget-about font-md mb-md-5 mb-lg-0 wow fadeIn animated">
                        <p class="wow fadeIn animated">
                            <strong>Address:</strong> Kannur, Kerala
                        </p>
                        <p class="wow fadeIn animated">
                            <strong>Phone:</strong> +91 9000 123 456 / +91 484 555 0123
                        </p>
                        <p class="wow fadeIn animated">
                            <strong>Hours:</strong> 10:00 - 21:00, Mon - Sun
                        </p>
                    </div>

                    <div class="payment-section mt-30">
                        <p class="mb-15 fw-600 text-grey-4 wow fadeIn animated">Secured Payment Methods</p>
                        <div class="payment-methods wow fadeIn animated d-flex align-items-center gap-3">
                            <div class="payment-method-item">
                                <img src="/imgs/theme/COD-icon.png" alt="COD" style="height: 55px;">
                            </div>
                            <div class="payment-method-item">
                                <img src="/imgs/theme/wallet-icon.png" alt="Wallet" style="height: 60px;">
                            </div>
                            <div class="payment-method-item">
                                <img src="/imgs/theme/razorpay-icon.png" alt="Razorpay" style="height: 55px;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="container pb-20 wow fadeIn animated">
        <div class="row">
            <div class="col-12">
                <hr class="footer-divider mb-3">
            </div>
            <div class="col-lg-6 col-md-6">
                <p class="text-md-start text-center font-sm text-muted mb-0">
                    &copy; <span id="year"></span> <strong class="text-brand">Kaizen Street</strong>. All rights
                    reserved.
                </p>
            </div>
            <div class="col-lg-6 col-md-6">
                <p class="text-md-end text-center font-sm text-muted mb-0">
                    Designed with <span class="text-brand">‚ù§</span>
                </p>
            </div>
        </div>
    </div>
</footer>

<div id="preloader-active">
    <div class="preloader d-flex align-items-center justify-content-center">
        <div class="preloader-inner position-relative">
            <div class="text-center">
                <h5 class="mb-10">Now Loading</h5>
                <div class="loader">
                    <div class="bar bar1"></div>
                    <div class="bar bar2"></div>
                    <div class="bar bar3"></div>
                </div>
            </div>
        </div>
    </div>
</div>


<script src="/js/vendor/modernizr-3.6.0.min.js"></script>
<script src="/js/vendor/jquery-3.6.0.min.js"></script>
<script src="/js/vendor/jquery-migrate-3.3.0.min.js"></script>
<script src="/js/vendor/bootstrap.bundle.min.js"></script>
<script src="/js/plugins/slick.js"></script>
<script src="/js/plugins/jquery.syotimer.min.js"></script>
<script src="/js/plugins/wow.js"></script>
<script src="/js/plugins/jquery-ui.js"></script>
<script src="/js/plugins/perfect-scrollbar.js"></script>
<script src="/js/plugins/magnific-popup.js"></script>
<script src="/js/plugins/select2.min.js"></script>
<script src="/js/plugins/waypoints.js"></script>
<script src="/js/plugins/counterup.js"></script>
<script src="/js/plugins/jquery.countdown.min.js"></script>
<script src="/js/plugins/images-loaded.js"></script>
<script src="/js/plugins/isotope.js"></script>
<script src="/js/plugins/scrollup.js"></script>
<script src="/js/plugins/jquery.vticker-min.js"></script>
<script src="/js/plugins/jquery.theia.sticky.js"></script>
<script src="/js/plugins/jquery.elevatezoom.js"></script>

<script src="/js/main.js?v=3.4"></script>
<script src="/js/shop.js?v=3.4"></script>
<script src="/js/wishlist-count-updater.js"></script>
<script src="/js/cart-count-updater.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
    document.getElementById('year').textContent = new Date().getFullYear();
</script>

<script>
    document.getElementById('clear-search').addEventListener('click', function (e) {
        e.preventDefault();
        window.location = '/shop';
    });
</script>

<script>
    const section = document.querySelector('.newsletter');

    window.addEventListener('scroll', () => {
        const rect = section.getBoundingClientRect();
        const topOfPage = window.pageYOffset;
        const topOfSec = rect.top + topOfPage;
        const scrolled = topOfPage - topOfSec;
        const distance = Math.max(scrolled, 0);
        const yPos = distance * -0.5;
    });
</script>

<script>
    document.querySelectorAll('.add-to-wishlist-btn').forEach(btn => {
        btn.addEventListener('click', async function () {
            const productId = this.dataset.productId;
            const size = this.dataset.size;

            try {
                const res = await fetch(`/wishlist/add/${productId}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ size })
                });

                const data = await res.json();

                if (res.ok) {
                    Swal.fire({
                        icon: 'success',
                        title: 'Added to Wishlist!',
                        showConfirmButton: false,
                        timer: 1200,
                        customClass: {
                            popup: 'swal-responsive'
                        }
                    });
                } else {
                    Swal.fire({
                        icon: 'error',
                        title: 'Error',
                        text: data.message || 'Something went wrong',
                        customClass: {
                            popup: 'swal-responsive'
                        }
                    })
                }
            } catch (error) {
                console.error(error);
                Swal.fire('Error', 'Server error', 'error');
            }
        });
    });

    async function addToWishlist(productId) {
        try {
            const res = await fetch(`/wishlist/add/${productId}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({})
            });

            const data = await res.json();

            if (res.ok) {
                Swal.fire({
                    icon: 'success',
                    title: 'Added to Wishlist!',
                    text: data.message,
                    timer: 1500,
                    showConfirmButton: false
                });

                document.dispatchEvent(new CustomEvent('wishlist:updated', {
                    detail: { count: data.itemCount }
                }));

            } else {
                Swal.fire('Oops!', data.message, 'info');
            }

        } catch (err) {
            console.error(err);
            Swal.fire('Error', 'Something went wrong.', 'error');
        }
    }

</script>

</body>

</html>